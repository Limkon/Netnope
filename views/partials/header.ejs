<%# views/partials/header.ejs %>
<header class="navbar">
    <div class="container nav-container">
        <h1><a href="<%= currentUser ? '/notes' : '/auth/login' %>">我的记事本</a></h1>
        <nav style="display: flex; align-items: center;">
            <% if (currentUser) { %>
                <span style="color: #fff; margin-right: 15px;">欢迎, <%= currentUser.username %> (<%= currentUser.role %>)</span>
                <a href="/notes/new" class="btn btn-sm btn-primary" style="margin-right: 10px;">创建新记事</a>
                <% if (currentUser.role === 'admin') { %>
                    <a href="/admin/users" class="btn btn-sm btn-secondary" style="margin-right: 10px;">用户管理</a>
                <% } %>
                <form action="/auth/logout" method="POST" style="display: inline; margin: 0;">
                    <button type="submit" class="btn btn-sm btn-danger">退出</button>
                </form>
            <% } else { %>
                <% if (pageTitle !== '登录') { %>
                    <a href="/auth/login" class="btn btn-sm btn-light" style="margin-right: 10px;">登录</a>
                <% } %>
                <% if (pageTitle !== '注册') { %>
                     <a href="/auth/register" class="btn btn-sm btn-info">注册</a>
                <% } %>
            <% } %>
        </nav>
    </div>
</header>
<main class="container main-content">
