<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页 - 网络福利资源分享网站</title> <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <h1>网络福利资源分享网站</h1> <nav id="mainNav">
            </nav>
    </header>
    <div class="container">
        <div class="toolbar-actions" style="margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center;">
            <form id="searchForm" style="display: flex; gap: 10px; flex-grow: 1; min-width: 250px;">
                <input type="search" id="searchInput" name="search" placeholder="输入关键字搜索文章..." style="flex-grow: 1; padding: 0.5rem; border: 1px solid #ccc; border-radius: 0.25rem; min-height:38px; box-sizing:border-box;">
                <button type="submit" class="button-action" style="min-width: 80px;">搜索</button>
            </form>

            <a href="/article/new" id="publishArticleButton" class="button-action" style="display: none; min-width: 100px; flex-grow: 1; background-color: #28a745; border-color: #28a745;">发表新文章</a>

            <button id="clearSearchButton" class="button-action button-cancel" style="min-width: 100px; background-color: #6c757d; border-color: #6c757d; display: none; flex-grow: 1;">清除搜索</button>
        </div>

        <h2>文章列表</h2> <div id="globalMessageArea" style="margin-bottom: 15px;"></div>
        <div id="articlesContainer">
            <p>正在加载文章...</p> </div>
    </div>
    <footer>
        <p id="copyrightFooter">&copy; 2025 网络福利资源分享网站。</p> </footer>
    <script src="/js/main.js"></script>
    <script>
        // 这些变量由服务器模板注入
        const currentUsernameFromServer = "{{username}}";
        const currentUserRoleFromServer = "{{userRole}}";
        const currentUserIdFromServer = "{{userId}}";

        document.addEventListener('DOMContentLoaded', () => {
            // 注意：首页的 setupNavigation 和 loadArticles(loadNotes)
            // 已被移入 main.js 的 DOMContentLoaded 主处理程序中
        });
    </script>
</body>
</html>
