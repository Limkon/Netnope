<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的记事 - 记事本</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <h1>记事本</h1>
        <nav id="mainNav">
            </nav>
    </header>
    <div class="container">
        <h2>记事列表</h2>
        <div id="globalMessageArea" style="margin-bottom: 15px;"></div>
        <div id="notesContainer">
            <p>正在加载记事...</p>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 记事本。</p>
    </footer>
    <script src="/js/main.js"></script>
    <script>
        // 从服务器端模板获取初始用户信息 (如果已登录)
        // 对于匿名用户，这些可能是 '访客' 和 'anonymous'
        const currentUsernameFromServer = "{{username}}";
        const currentUserRoleFromServer = "{{userRole}}";

        document.addEventListener('DOMContentLoaded', () => {
            // setupNavigation 在 main.js 中定义，它会处理匿名和登录用户的情况
            setupNavigation(currentUsernameFromServer, currentUserRoleFromServer);
            loadNotes();
        });
    </script>
</body>
</html>
